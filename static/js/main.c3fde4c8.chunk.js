(this["webpackJsonpgoit-react-hw-09-images"]=this["webpackJsonpgoit-react-hw-09-images"]||[]).push([[0],{24:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(6),o=c.n(r),i=c(9),s=c(4),u=(c(24),c(25),c(18)),l=c.n(u),j=function(e){var t=e.currentPage,c=void 0===t?1:t,n=e.searchQuery,a=void 0===n?"":n,r=e.pageSize,o=void 0===r?12:r;return l.a.get("https://pixabay.com/api/?q=".concat(a,"&page=").concat(c,"&per_page=").concat(o,"&key=21244519-50cd1518df4ac35a1fd6e5fdb&image_type=photo&orientation=horizontal")).then((function(e){return e.data.hits}))},b=c(19),d=c.n(b),h=c(1),m=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],o=a[1];return Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o("")},className:"SearchForm",children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{value:r,onChange:function(e){o(e.currentTarget.value)},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},O=function(e){var t=e.children;return Object(h.jsx)("ul",{id:"imageGallery",className:"ImageGallery",children:t})},f=function(e){var t=e.images,c=e.onClick;return t.map((function(e){var t=e.id,n=e.webformatURL,a=e.tags,r=e.largeImageURL;return Object(h.jsx)("li",{className:"ImageGalleryItem",children:Object(h.jsx)("img",{src:n,alt:a,className:"ImageGalleryItem-image",onClick:function(){c(r)}})},t)}))},g=function(e){var t=e.onClick;return Object(h.jsx)("button",{onClick:t,type:"button",className:"Button",children:"Load more"})},p=document.querySelector("#modal-root"),y=function(e){var t=e.children,c=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&c()};return Object(r.createPortal)(Object(h.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&c()},children:Object(h.jsx)("div",{className:"Modal",children:t})}),p)},v=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),o=Object(s.a)(r,2),u=o[0],l=o[1],b=Object(n.useState)(""),p=Object(s.a)(b,2),v=p[0],x=p[1],S=Object(n.useState)(!1),w=Object(s.a)(S,2),k=w[0],C=w[1],N=Object(n.useState)(null),E=Object(s.a)(N,2),I=E[0],L=E[1],q=Object(n.useState)(""),F=Object(s.a)(q,2),G=F[0],P=F[1],T=Object(n.useState)(!1),z=Object(s.a)(T,2),B=z[0],J=z[1];Object(n.useEffect)((function(){C(!0),j({currentPage:u,searchQuery:v}).then((function(e){if(a((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),l((function(e){return e+1})),u>1&&window.scrollTo({top:document.querySelector("#imageGallery").scrollHeight,behavior:"smooth"}),e.length<1)throw new Error("Please try again your request")})).catch((function(e){return L(e.message)})).finally((function(){C(!1)}))}),[v]);var M=function(){J((function(e){return!e}))},Q=c.length>0&&!k;return Object(h.jsxs)("div",{children:[Object(h.jsx)(m,{onSubmit:function(e){x(e),l(1),a([]),L(null)}}),I&&Object(h.jsx)("h2",{style:{textAlign:"center"},children:"Please try again your request"}),Object(h.jsx)(O,{children:Object(h.jsx)(f,{images:c,onClick:function(e){M(),P(e)}})}),k&&Object(h.jsx)(d.a,{className:"Loader",type:"Circles",color:"#471135",height:100,width:100}),Q&&Object(h.jsx)(g,{onClick:function(){return null}}),B&&Object(h.jsx)(y,{onClose:M,children:Object(h.jsx)("img",{src:G,alt:""})})]})};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.c3fde4c8.chunk.js.map